[gd_scene load_steps=9 format=2]

[ext_resource path="res://Scenes/Levels/Pit/Pit Tilemap.tres" type="TileSet" id=1]
[ext_resource path="res://Scenes/Levels/Platform/Platform.gd" type="Script" id=2]
[ext_resource path="res://Assets/sigil.png" type="Texture" id=3]

[sub_resource type="Shader" id=1]
code = "shader_type canvas_item;

void fragment() {
	COLOR = texture(TEXTURE, UV);
	COLOR += 0.1;
}"

[sub_resource type="ShaderMaterial" id=2]
shader = SubResource( 1 )

[sub_resource type="Shader" id=3]
code = "shader_type canvas_item;

uniform float u_time;

const vec3 colorA = vec3(0.8, 0.0, 0.0);
const vec3 colorB = vec3(0.0, 0.0, 0.0);

void fragment() {
	vec3 color = vec3(0.0);
	
	float pct = abs(sin(TIME / 2.0));
	
	color = mix(colorA, colorB, pct);
	vec4 texture_color = texture(TEXTURE, UV);
	COLOR = vec4(color, texture_color.a);
}"

[sub_resource type="ShaderMaterial" id=4]
shader = SubResource( 3 )
shader_param/u_time = null

[sub_resource type="RectangleShape2D" id=5]
extents = Vector2( 92.692, 90.1313 )

[node name="Platform" type="Node2D"]
script = ExtResource( 2 )

[node name="Platform Base" type="TileMap" parent="."]
material = SubResource( 2 )
position = Vector2( -912, -400 )
tile_set = ExtResource( 1 )
cell_size = Vector2( 16, 16 )
format = 1
tile_data = PoolIntArray( 1638457, 536870962, 0, 1638458, 536870962, 0, 1638459, 536870962, 0, 1638460, 536870962, 0, 1638461, 536870962, 0, 1638462, 536870962, 0, 1638463, 536870962, 0, 1638464, 536870962, 0, 1638465, 536870962, 0, 1638466, 536870962, 0, 1638467, 536870962, 0, 1638468, 536870962, 0, 1703993, 536870962, 0, 1703994, 536870962, 0, 1703995, 536870962, 131072, 1703996, 536870962, 131072, 1703997, 536870962, 131072, 1703998, 536870962, 65537, 1703999, 536870962, 0, 1704000, 536870962, 65536, 1704001, 536870962, 0, 1704002, 536870962, 65537, 1704003, 536870962, 65536, 1704004, 536870962, 0, 1769529, 536870962, 0, 1769530, 536870962, 65536, 1769531, 536870962, 0, 1769532, 536870962, 131073, 1769533, 536870962, 131073, 1769534, 536870962, 65537, 1769535, 536870962, 65536, 1769536, 536870962, 0, 1769537, 536870962, 65537, 1769538, 536870962, 65536, 1769539, 536870962, 0, 1769540, 536870962, 0, 1835065, 536870962, 0, 1835066, 536870962, 131073, 1835067, 536870962, 131072, 1835068, 536870962, 1, 1835069, 536870962, 0, 1835070, 536870962, 0, 1835071, 536870962, 0, 1835072, 536870962, 1, 1835073, 536870962, 65536, 1835074, 536870962, 131072, 1835075, 536870962, 1, 1835076, 536870962, 0, 1900601, 536870962, 0, 1900602, 536870962, 0, 1900603, 536870962, 0, 1900604, 536870962, 0, 1900605, 536870962, 0, 1900606, 536870962, 0, 1900607, 536870962, 65536, 1900608, 536870962, 65537, 1900609, 536870962, 1, 1900610, 536870962, 0, 1900611, 536870962, 131072, 1900612, 536870962, 0, 1966137, 536870962, 0, 1966138, 536870962, 65536, 1966139, 536870962, 65537, 1966140, 536870962, 131073, 1966141, 536870962, 0, 1966142, 536870962, 0, 1966143, 536870962, 131072, 1966144, 536870962, 1, 1966145, 536870962, 131072, 1966146, 536870962, 131072, 1966147, 536870962, 0, 1966148, 536870962, 0, 2031673, 536870962, 0, 2031674, 536870962, 0, 2031675, 536870962, 65536, 2031676, 536870962, 131073, 2031677, 536870962, 65537, 2031678, 536870962, 131073, 2031679, 536870962, 65536, 2031680, 536870962, 131073, 2031681, 536870962, 131072, 2031682, 536870962, 65537, 2031683, 536870962, 131073, 2031684, 536870962, 0, 2097209, 536870962, 0, 2097210, 536870962, 65536, 2097211, 536870962, 0, 2097212, 536870962, 0, 2097213, 536870962, 65537, 2097214, 536870962, 65536, 2097215, 536870962, 65537, 2097216, 536870962, 0, 2097217, 536870962, 65536, 2097218, 536870962, 65536, 2097219, 536870962, 131073, 2097220, 536870962, 0, 2162745, 536870962, 0, 2162746, 536870962, 65536, 2162747, 536870962, 131073, 2162748, 536870962, 131073, 2162749, 536870962, 0, 2162750, 536870962, 131073, 2162751, 536870962, 131073, 2162752, 536870962, 1, 2162753, 536870962, 131072, 2162754, 536870962, 65537, 2162755, 536870962, 1, 2162756, 536870962, 0, 2228281, 536870962, 0, 2228282, 536870962, 131072, 2228283, 536870962, 131073, 2228284, 536870962, 131072, 2228285, 536870962, 0, 2228286, 536870962, 0, 2228287, 536870962, 65537, 2228288, 536870962, 131073, 2228289, 536870962, 1, 2228290, 536870962, 65536, 2228291, 536870962, 0, 2228292, 536870962, 0, 2293817, 536870962, 0, 2293818, 536870962, 131073, 2293819, 536870962, 65536, 2293820, 536870962, 65536, 2293821, 536870962, 131073, 2293822, 536870962, 131072, 2293823, 536870962, 65537, 2293824, 536870962, 131073, 2293825, 536870962, 0, 2293826, 536870962, 65537, 2293827, 536870962, 1, 2293828, 536870962, 0, 2359353, 536870962, 0, 2359354, 536870962, 0, 2359355, 536870962, 0, 2359356, 536870962, 0, 2359357, 536870962, 0, 2359358, 536870962, 0, 2359359, 536870962, 0, 2359360, 536870962, 0, 2359361, 536870962, 0, 2359362, 536870962, 0, 2359363, 536870962, 0, 2359364, 536870962, 0 )

[node name="Sprite" type="Sprite" parent="."]
self_modulate = Color( 1, 1, 1, 0.592157 )
material = SubResource( 4 )
position = Vector2( 96.37, 96.153 )
texture = ExtResource( 3 )

[node name="NextLevelArea" type="Area2D" parent="."]
position = Vector2( -912, -400 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="NextLevelArea"]
position = Vector2( 1008.96, 494.999 )
shape = SubResource( 5 )
disabled = true

[connection signal="area_entered" from="NextLevelArea" to="." method="_on_NextLevelArea_area_entered"]
